# Pitch Booking Backend

ุฎุงุฏู Node.js ุจุณูุท ูุฅุฏุงุฑุฉ ููุงุนุจ ูุฑุฉ ุงููุฏู ูุงูุญุฌูุฒุงุช ุจุงุณุชุฎุฏุงู ูููุงุช JSON ููุงุนุฏุฉ ุจูุงูุงุช ุฎูููุฉ. ููุงุณุจ ูุจุฏุงูุฉ ุณุฑูุนุฉ ุฃู ูููุฐุฌ ุฃููู ูููู ูุงุญููุง ูุตูู ุจุชุทุจูู Flutter ุฃู ูุงุฌูุฉ ููุจ.

## ๐ฆ ุงููุชุทูุจุงุช

- Node.js 18 ุฃู ุฃุญุฏุซ (ูุชุถูู ูุน npm)
- ูุง ุญุงุฌุฉ ูุชุซุจูุช ุญุฒู ุฅุถุงููุฉุ ุงูููุฏ ูุนุชูุฏ ุนูู ููุชุจุงุช Node.js ุงูููุงุณูุฉ

## โถ๏ธ ุทุฑููุฉ ุงูุชุดุบูู

```bash
npm start
```

ุณูุจุฏุฃ ุงูุฎุงุฏู ุนูู ุงูุนููุงู: `http://localhost:4000`

> **ููุงุญุธุฉ:** ุฃุซูุงุก ุงูุนูู ุฏุงุฎู ุจูุฆุฉ ุงูุชุทููุฑ ุงูุญุงููุฉ ุชู ููุน ุงููุตูู ููุฎุฒู npmุ ูุฐูู ุชู ุจูุงุก ุงูุฎุงุฏู ุฏูู ุฃู ุญุฒู ุฎุงุฑุฌูุฉ. ูู ุญุงูุฉ ุงูุนูู ุนูู ุฌูุงุฒู ููููู ุฅุถุงูุฉ Express ุฃู ุฃู ุฅุทุงุฑ ุนูู ุขุฎุฑ ุจูู ุณูููุฉ.

## ๐๏ธ ูููู ุงููุดุฑูุน

```
backend/
โโโ data/
โ   โโโ pitches.json     # ุจูุงูุงุช ุงูููุงุนุจ ุงูุงูุชุฑุงุถูุฉ
โ   โโโ bookings.json    # ุงูุญุฌูุฒุงุช ุงููููุดุฃุฉ
โโโ src/
โ   โโโ server.js        # ุงูุฎุงุฏู ุงูุฑุฆูุณู ููุณุงุฑุงุช ุงูู API
โ   โโโ storage.js       # ูุฑุงุกุฉ/ูุชุงุจุฉ ูููุงุช ุงูุจูุงูุงุช
โ   โโโ validation.js    # ุงูุชุญูู ูู ุงูุทูุจุงุช
โโโ package.json
```

## ๐ ููุงุท ุงูู API

### GET /api/pitches

ูุนูุฏ ูุงุฆูุฉ ุงูููุงุนุจ ุงููุชุงุญุฉ.

### POST /api/pitches

ุฅูุดุงุก ููุนุจ ุฌุฏูุฏ.

**ุงูุฌุณู (JSON):**
```json
{
  "name": "Stadium name",
  "location": "District, City",
  "pricePerHour": 500,
  "surfaceType": "Artificial Turf",
  "amenities": ["Showers", "Parking"],
  "slots": ["17:00-18:00", "18:00-19:00"]
}
```

### GET /api/bookings

ูุนูุฏ ุงูุญุฌูุฒุงุช. ูููู ุงูููุชุฑุฉ ุจุงุณุชุฎุฏุงู `pitchId` ู `date`:
`/api/bookings?pitchId=pitch-1&date=2025-05-01`

### POST /api/bookings

ุฅูุดุงุก ุญุฌุฒ ุฌุฏูุฏ.

**ุงูุฌุณู (JSON):**
```json
{
  "pitchId": "pitch-1",
  "customerName": "Mohamed Ali",
  "customerPhone": "0100000000",
  "date": "2025-05-01",
  "slot": "17:00-18:00"
}
```

### GET /api/bookings/{bookingId}

ูุนูุฏ ุชูุงุตูู ุญุฌุฒ ูุงุญุฏ.

### PATCH /api/bookings/{bookingId}/status

ุชุญุฏูุซ ุญุงูุฉ ุงูุญุฌุฒ ุฅูู `pending` ุฃู `confirmed` ุฃู `cancelled`.

```json
{
  "status": "confirmed"
}
```

## ๐งญ ุฎุงุฑุทุฉ ุงูุทุฑูู ุงูููุชุฑุญุฉ

1. **ุงูุงูุชูุงู ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ** (PostgreSQL ุฃู MongoDB) ูุน ูุชุงุจุฉ ุทุจูุฉ Repository.
2. **ุชุทุจูู ูุตุงุฏูุฉ JWT** ูููุณุชุฎุฏููู ูุงูุฃุฏูู.
3. **ุฅุถุงูุฉ Webhooks/Notifications** ุนูุฏ ุชุฃููุฏ ุฃู ุฅูุบุงุก ุงูุญุฌุฒ (ุฅูููู ุฃู ูุงุชุณุงุจ).
4. **ุจูุงุก ุงุฎุชุจุงุฑุงุช ุขููุฉ** ุจุงุณุชุฎุฏุงู Jest ุฃู ุฃู ุฅุทุงุฑ ุงุฎุชุจุงุฑุงุช ุขุฎุฑ.
5. **ุชุญุฒูู ุงูุฎุงุฏู ุฏุงุฎู Docker** ูุชุณููู ุงููุดุฑ.

ุณุนูุฏ ุจูุณุงุนุฏุชู ูู ุชุทููุฑ ุงูููุงุท ุงูุณุงุจูุฉ ุฃู ุฏูุฌูุง ูุน ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุงูุชู ุชุนูู ุนูููุง.
